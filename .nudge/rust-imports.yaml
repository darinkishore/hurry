version: 1

rules:
  - name: no-indented-imports
    description: Imports must be at file level, not inside functions
    message: Move this import to the top of the file, then retry.
    on:
      - hook: PreToolUse
        tool: Write
        file: "**/*.rs"
        content:
          - kind: Regex
            pattern: '(?m)^[ \t]+use '
      - hook: PreToolUse
        tool: Edit
        file: "**/*.rs"
        new_content:
          - kind: Regex
            pattern: '(?m)^[ \t]+use '
